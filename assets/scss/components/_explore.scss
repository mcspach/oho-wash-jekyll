/*
---------
DISCOVER
---------
*/

// ----- Explore Grid
.explore-grid-container {

  @media #{$medium-up} {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    max-width: rem-calc(1200px);
    margin: auto;
    padding: rem-calc(0 20);
    grid-gap: rem-calc(40);
    position: relative;
    z-index: 2;

    .arrow-link:nth-of-type(1) {
      grid-area: 1 / 1 / 2 / 2;
    }

    .arrow-link:nth-of-type(2) {
      grid-area: 1 / 2 / 2 / 3;
    }

    .arrow-link:nth-of-type(3) {
      grid-area: 1 / 3 / 2 / 4;
    }

    .explore-panel {
      grid-area: 2 / 1 / 3 / 4;
    }
  }

  &--open {
    @media #{$medium-up} {
      grid-template-columns: 1fr 1fr 1fr 1fr;

      .arrow-link {
        grid-area: 2 / 1 / 2 / 3 !important;
      }

      .arrow-link:not(.accordion-drop-down__toggle--active)~.arrow-link {
        grid-area: 2 / 3 / 3 / 5 !important;
      }

      .explore-panel {
        grid-area: 1 / 1 / 2 / 5;
      }
    }
  }
}

.section--explore {
  background-image: url("../img/explore-centers.jpg");
  background-size: cover;
  color: #fff;
  position: relative;
  overflow: hidden;

  @media #{$large-up} {
    // iOS STILL does not handle this property correctly
    background-attachment: fixed;
  }

  @media #{$small-only} {
    padding-bottom: 0;
  }

  .vertical-title--top-left {
    top: rem-calc(75);
    left: rem-calc(-60);
    display: none;
  }

  h2 {
    @include font-sizes(28, 36, 50);
    @include margins-bottom(15, 30, 30);
  }

  .lined-section-title {
    @media #{$small-only} {
      display: none;
    }
  }

  .arrow-link--button {
    @include unset-button();
    @include font-sizes(16, 18, 24);
    text-align: left;
    color: $black;
    padding: rem-calc(30);
    border: rem-calc(3) solid #6b8288;
    background-color: #abc1c5;
    opacity: .7;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background .5s ease;
    width: 100%;
    font-weight: bold;


    &:hover,
    &:focus {
      color: $white;
    }

    @media #{$large-up} {
      padding: rem-calc(50 40)
    }

    @media #{$small-only} {
      border-color: #fff;
      border-width: rem-calc(1);
      border-left: 0;
      border-right: 0;

      &:not(:first-child) {
        margin-top: rem-calc(-2)
      }
    }

    &:hover {
      text-decoration: none;
      background: rgba(23, 63, 77, .7);
    }
  }

  .discover-toggle {
    display: flex;
  }
}

.explore-panel__title-area {
  position: relative;
  max-width: rem-calc(1200);
  padding-right: rem-calc(80);
  margin: 0 auto;
}

.explore-title-lockup {
  @media #{$medium-up} {
    padding-right: rem-calc(90);
  }

  .eyebrow {
    color: #fff;
    font-size: rem-calc(20);
    margin-bottom: rem-calc(11);
  }

  p {
    font-size: rem-calc(20);
    max-width: rem-calc(1107);
    font-weight: $benton-medium;
  }
}

.explore-item {
  &__content {
    @media #{$small-only} {
      padding: rem-calc(0 40 20);
    }
  }

  &__content__upper {
    margin-bottom: rem-calc(20);
    width: 100%;
    @extend %small-body;

    p:not(:last-child) {
      margin-bottom: rem-calc(5);
    }
  }

  .arrow-link {
    color: $yellow;

    @media #{$small-only} {
      padding: 0 !important;
      border: 0;
    }

    &__icon {
      filter: brightness(100);
    }
  }

  &__content__lower {
    margin-top: rem-calc(20);
  }

  .line-decoration {
    @include line-decoration(rem-calc(280), rem-calc(50), rem-calc(2), #fff, $yellow, top, rem-calc(20));
  }

  .explore-panel__btn-row {
    @media #{$small-only} {
      display: none;
    }

  }

  .arrow-link--button {
    padding: rem-calc(40);
  }

  img {
    max-width: none;
    width: 100%;
    @include margins-bottom(25, 0, 0);
    @include margins-top(-1, 0, 0);
    position: relative;
    z-index: 2;
  }
}

.explore-close {
  @include unset-button();
  display: flex;
  align-items: center;
  position: absolute;
  top: rem-calc(10);
  right: 0;
  transition: transform .4s ease;

  @media #{$small-only} {
    display: none;
  }

  &:hover,
  &:focus {
    transform: scale(1.1);
  }

  .eyebrow {
    color: #fff;
    margin: rem-calc(0 10 0 0);
  }
}

.accordion-drop-down__toggle.arrow-link--button {
  position: relative;

  .accordion-drop-down__icon {
    @media #{$medium-up} {
      display: none;
    }
  }

  .arrow-link__icon {
    @media #{$small-only} {
      display: none;
    }
  }
}

.arrow-link--button.accordion-drop-down__toggle--active {
  @media #{$medium-up} {
    display: none !important;
  }
}